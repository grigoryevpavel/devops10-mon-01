## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчётов, которые сохраняются на диск. 
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?

Ответ:
  Предложу использовать 4 золотые метрики и метрику дисковой системы:
  - Скорость отклика по http
    Причина: Т.к. система доступна по http, значит она взаимодействует с конечными пользователями. Конечный пользлователь оценивает работу системы по скорости отклика на свои запросы. Только наблюдая достижение допустимого времени отклика мы сможем сказать, что нашли и устранили проблему.
  - Размер трафика
    Причина: Т.к. Высокая загруженность ЦПУ может быть связана с увеличением количества запросов. В этом случае нужно будет добавить не ЦПУ, а дополнительный сервер и сформировать веб-кластер. 
  - Количество 400/500 ошибок
    Причина: Высокую загруженность ЦПУ могут вызывать ошибки в приложении(утечка памяти, зацикливание и т.п.)
  - Загрузка процессора
    Причина: Т.к. отмечается высокая загрузка ЦПУ. Используя показатель загруженности ЦПУ можно контролировать появление или устранение проблем производительности, на которые жалуются пользователи.
  - Загрузка дисковой системы(особенно актуальным является среднее количество операций чтения/записи в секунду. Если показатель чтения превышает 0,010-0,015 операции в секунду, то можно считать дисковую систему узким местом в производительности. У нас такая ситуация была связана с ошибками в файловых дескрипторах).
    Причина: Т.к. система сохраняет отчеты на диск. Для мониторинга необходимо контролироват все элементы системы.

2. Менеджер продукта, посмотрев на ваши метрики, сказал, что ему непонятно, что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?
  - Предложу определить для клиентов SLA как 99% успешно выполненных запросов.

3. Вашей DevOps-команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики, в свою очередь, хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?
  - Предложу разработчикам добавить логирование выполнения их кода.
3. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA = 99% по http-кодам ответов. 
Этот параметр вычисляется по формуле: summ_2xx_requests/summ_all_requests. Он не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?
  - В формуле не учитываются запросы  перенаправлений соединений, которые идут с 3xx кодами. Правильная формула должна быть:
    (summ_2xx_requests+summ_3xx_requests)/summ_all_requests

